<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NEXUSÂ·IOT â€” Admin Smart Home</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='18' fill='%2305080f'/><text y='.9em' font-size='80' x='10'>ğŸ—‚ï¸</text></svg>">
  <link rel="stylesheet" href="css/estilos.css">
  <link rel="stylesheet" href="css/admin.css">
</head>
<body>
<div class="app-wrapper">

  <nav class="top-nav">
    <a class="brand" href="index.html">
      <div class="brand-icon">ğŸ </div>
      <div>NEXUS<span style="color:var(--muted)">Â·</span>IOT<span class="brand-sub">SMART HOME SYSTEM</span></div>
    </a>
    <div class="nav-links">
      <a href="iot-admin.html" class="nav-link-btn active">Admin</a>
      <a href="iot-control.html" class="nav-link-btn">Control</a>
      <a href="iot-monitor.html" class="nav-link-btn">Monitor</a>
    </div>
  </nav>

  <main class="main-content">
    <div class="page-header">
      <div class="page-title">AdministraciÃ³n <span>Smart Home</span></div>
      <div class="page-subtitle">// 16 dispositivos Â· 3 subsistemas Â· MockAPI REST</div>
    </div>

    <div class="stats-strip">
      <div class="stat-card">
        <div class="stat-icon">ğŸ“¡</div>
        <div class="stat-value white" id="statTotal">â€“</div>
        <div class="stat-label">Total Dispositivos</div>
      </div>
      <div class="stat-card s-rack">
        <div class="stat-icon">ğŸŸ¢</div>
        <div class="stat-value cyan" id="statOnline">â€“</div>
        <div class="stat-label">En LÃ­nea</div>
      </div>
      <div class="stat-card s-rack">
        <div class="stat-icon">ğŸ–¥ï¸</div>
        <div class="stat-value cyan" id="statRack">â€“</div>
        <div class="stat-label">Smart Rack</div>
      </div>
      <div class="stat-card s-access">
        <div class="stat-icon">ğŸ“¦</div>
        <div class="stat-value green" id="statAccess">â€“</div>
        <div class="stat-label">PaqueterÃ­a</div>
      </div>
      <div class="stat-card s-energy">
        <div class="stat-icon">âš¡</div>
        <div class="stat-value yellow" id="statEnergy">â€“</div>
        <div class="stat-label">EnergÃ­a</div>
      </div>
    </div>

    <div class="toolbar">
      <div class="search-box">
        <span class="icon">ğŸ”</span>
        <input type="text" id="searchInput" placeholder="Buscar dispositivo..." oninput="renderTable()">
      </div>
      <div class="filter-tabs">
        <button class="filter-tab active" data-filter="all"    onclick="setFilter('all')">Todos</button>
        <button class="filter-tab" data-filter="rack"   onclick="setFilter('rack')"><span class="nav-sys-dot dot-rack"></span>Rack</button>
        <button class="filter-tab" data-filter="access" onclick="setFilter('access')"><span class="nav-sys-dot dot-access"></span>Acceso</button>
        <button class="filter-tab" data-filter="energy" onclick="setFilter('energy')"><span class="nav-sys-dot dot-energy"></span>EnergÃ­a</button>
      </div>
      <button class="btn-add" onclick="openModal()">ï¼‹ Nuevo Dispositivo</button>
    </div>

    <div class="table-card">
      <table>
        <thead><tr>
          <th>Icono</th><th>Dispositivo</th><th>Tipo</th>
          <th>UbicaciÃ³n</th><th>Sistema</th><th>Estado</th><th>Ping</th><th>Acciones</th>
        </tr></thead>
        <tbody id="deviceTableBody"></tbody>
      </table>
      <div id="emptyState" class="empty-state" style="display:none">
        <div class="icon">ğŸ“¡</div><p>Sin dispositivos</p>
      </div>
    </div>
  </main>

  <!-- Modal -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal-box">
      <div class="modal-title"><span id="modalTitleText">Nuevo</span> Dispositivo</div>
      <form id="deviceForm" onsubmit="saveDevice(event)">
        <input type="hidden" id="devId">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Nombre</label>
            <input type="text" class="form-control-custom" id="fName" required placeholder="Ej: DHT22 â€” Rack">
          </div>
          <div class="form-group">
            <label class="form-label">Tipo</label>
            <select class="form-control-custom" id="fType">
              <option value="sensor">Sensor</option>
              <option value="actuador">Actuador</option>
              <option value="camara">CÃ¡mara</option>
              <option value="gateway">Gateway</option>
              <option value="controlador">Controlador</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">UbicaciÃ³n</label>
            <input type="text" class="form-control-custom" id="fLocation" required placeholder="Ej: Rack Servidor">
          </div>
          <div class="form-group">
            <label class="form-label">IP</label>
            <input type="text" class="form-control-custom" id="fIp" required placeholder="192.168.1.x">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Protocolo</label>
            <select class="form-control-custom" id="fProtocol">
              <option value="MQTT">MQTT</option>
              <option value="Zigbee">Zigbee</option>
              <option value="HTTP">HTTP</option>
              <option value="Bluetooth">Bluetooth</option>
              <option value="WebSocket">WebSocket</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Estado</label>
            <select class="form-control-custom" id="fStatus">
              <option value="online">ğŸŸ¢ Online</option>
              <option value="offline">ğŸ”´ Offline</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">DescripciÃ³n</label>
          <input type="text" class="form-control-custom" id="fDesc" placeholder="DescripciÃ³n opcional">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn-cancel" onclick="closeModal()">Cancelar</button>
          <button type="submit" class="btn-save">ğŸ’¾ Guardar</button>
        </div>
      </form>
    </div>
  </div>

  <footer class="site-footer">
    <span>Â© 2026 NEXUSÂ·IOT Smart Home</span><span class="footer-sep">|</span>
    <span>TecnologÃ­as IoT</span><span class="footer-sep">|</span>
    <span>DiseÃ±ado por</span>
    <a class="footer-link" href="https://www.linkedin.com/in/tu-perfil" target="_blank" rel="noopener"><i class="linkedin-icon">in</i> Tu Nombre</a>
  </footer>
  <div class="toast-container" id="toastContainer"></div>
</div>
<script src="js/admin.js"></script>
</body>
</html>
